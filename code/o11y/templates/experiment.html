<!doctype html>
<title>{% block title %}{% endblock %} - Flaskr</title>

<style>
.error {
    color: red;
}
.success, .finished {
    color: chartreuse;
}
.running {
    color: darkkhaki;
}

</style>


<body>
    <style>
        h3 {
            font-weight: 100;
        }
    </style>
    <section class="content">
        {% for message in get_flashed_messages() %}
        <div class="flash">{{ message }}</div>
        {% endfor %}
        <h1>Experimento: {{experiment.name}}</h1>
        <a href="{{url_for('index')}}">back home</a>
        <h3>Creado {{experiment.started_at}}</h3>
        <h3>Estado: {{'RUNNING' if experiment.finished_at is none else 'FINISHED at ' ~ experiment.finished_at}}</h3>
        <h3>Quedan por entrenar: {{experiment.total_train_size - (experiment.train_dbs|length)}}</h3>
        <h3>Total: {{metrics.total_count}}</h3>
        <h3>Cantidad de errores: {{metrics.error_count}}</h3>
        <ul>
            {% for db in experiment.train_dbs %}
            <li>
                <b class="{{db.status}}">{{db.name}}</b> started at {{db.started_at}}, status {{db.status}}{%if db.status != 'running'%}, finished at {{db.finished_at}}{%endif%}
            </li>
            {% endfor %}
        </ul>
        {% if experiment.train_dbs|length == 0 %}
        No train dbs
        {% endif %}
    </section>
</body>